<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¸ç”Ÿæœƒç«¶é¸ç‰¹ç¨¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Serif+SC:wght%40700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }
        .newspaper-container {
            background-color: #ffffff; /* White paper background */
            border: 2px solid #333;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            max-width: 900px;
            width: 100%;
            padding: 25px;
            box-sizing: border-box;
            border-radius: 10px;
            overflow: hidden; /* Ensure columns behave correctly */
        }
        .newspaper-header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 3px double #333;
            padding-bottom: 15px;
        }
        .newspaper-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 3.5rem; /* Larger for impact */
            font-weight: 700;
            color: #b91c1c; /* Red for "è™Ÿå¤–" */
            line-height: 1;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .newspaper-subtitle {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #333;
            line-height: 1.2;
            margin-bottom: 15px;
        }
        .issue-info {
            font-size: 0.9rem;
            color: #555;
            text-align: right;
            margin-top: -10px;
            margin-bottom: 15px;
            padding-right: 5px;
        }
        .article-body {
            column-count: 1; /* Default to 1 column on small screens */
            column-gap: 30px;
            line-height: 1.8;
            font-size: 1.05rem;
            color: #333;
            text-align: justify;
        }
        .article-body h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-top: 25px;
            margin-bottom: 10px;
            line-height: 1.3;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }
        .article-body p {
            margin-bottom: 15px;
        }
        .article-body strong {
            color: #1a202c;
        }

        /* --- START: OPTIMIZED CSS for Images --- */
        .article-body figure {
            margin: 0; /* Reset default figure margin */
            margin-bottom: 15px; /* Add margin below figure */
            break-inside: avoid-column; /* Prevent figures from breaking across columns */
            width: 100%; /* Ensure figure takes full available width in its flow */
            box-sizing: border-box; /* Include padding/border in width calculation */
            text-align: center; /* Center image caption */
        }

        .article-body figure img.article-image {
            max-width: 100%; /* Ensure image fits column */
            height: auto;
            border: 1px solid #ddd;
            padding: 3px;
            background-color: #fff;
            display: block; /* Ensure image is a block for margin auto to work for centering */
            margin: 0 auto 5px auto; /* Center image within figure, add margin below */
        }

        /* Floating images with fixed width and max-width relative to column */
        .article-body figure.image-right {
            float: right;
            margin-left: 20px;
            width: 280px; /* Specific width for floating image */
            max-width: 48%; /* Max width relative to column, adjust as needed */
        }

        .article-body figure.image-left {
            float: left;
            margin-right: 20px;
            width: 280px; /* Specific width for floating image */
            max-width: 48%; /* Max width relative to column, adjust as needed */
        }

        /* Clear floats after floating elements to prevent text wrapping issues */
        .article-body .clear-float {
            clear: both;
            margin-bottom: 0; /* Ensure no extra space is added by clear-float div itself */
        }
        /* --- END: OPTIMIZED CSS for Images --- */


        /* Responsive columns for larger screens */
        @media (min-width: 768px) {
            .article-body {
                column-count: 2; /* 2 columns on medium screens */
            }
        }
        @media (min-width: 1024px) {
            .article-body {
                column-count: 2; /* Still 2 columns on large screens */
            }
        }

        /* LLM Feature specific styles */
        .llm-feature-box {
            background-color: #f9f9f9;
            border: 1px dashed #ccc;
            padding: 20px;
            margin-top: 30px;
            border-radius: 8px;
            text-align: center;
            break-inside: avoid-column; /* Prevent breaking across columns */
        }
        .llm-feature-box textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 1rem;
            resize: vertical;
        }
        .llm-feature-box button {
            background-color: #b91c1c;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .llm-feature-box button:hover {
            background-color: #991b1b;
        }
        .llm-feature-box .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-left: 10px;
            display: none; /* Hidden by default */
        }
        .llm-feature-box button.loading .loading-spinner {
            display: inline-block;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .llm-result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e0f2f7;
            border: 1px solid #b3e5fc;
            border-radius: 5px;
            text-align: left;
            font-size: 1.1rem;
            color: #01579b;
            font-weight: 500;
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
            word-wrap: break-word; /* Break long words */
        }
    </style>
</head>
<body>
    <div class="newspaper-container rounded-lg shadow-lg">
        <div class="newspaper-header">
            <div class="newspaper-title">ç‰¹ç¨¿ï¼å­¸ç”Ÿæœƒç«¶é¸</div>
            <div class="newspaper-subtitle">
                ã€ç¨å®¶å°ˆè¨ªã€‘å­¸ç”Ÿæœƒæ–°å…§é–£èª“è¦ã€Œç©è½‰æ ¡åœ’ã€ï¼ç¦åˆ©è¶…å»£ã€æ´»å‹•è¶…çˆ†ã€ä»²è©±è¦åŒä½ é½Šé½Šåšæ±ºç­–ï¼Ÿ
            </div>
        </div>
        <div class="issue-info">
            ç™¼è¡Œæ—¥æœŸï¼š2025å¹´5æœˆ27æ—¥ &nbsp;&nbsp; ç¬¬001æœŸ
        </div>

        <div class="article-body">
            <h3>ææ¬£ç‡ï¼šã€Œè¿”å­¸ï¼Œé»è§£å¯ä»¥å””é–‹å¿ƒï¼Ÿã€</h3>
            <p>é€™å¥ä¾†è‡ªå­¸ç”Ÿæœƒç«¶é¸å…§é–£ã€Œ<span class="font-bold text-red-600">RatljÃ³st</span>ã€å‰¯æœƒé•·ææ¬£ç‡çš„çœŸèª æå•ï¼Œç›¸ä¿¡å·²æˆ³ä¸­äº†ç„¡æ•¸åŒå­¸çš„å¿ƒè²ã€‚</p>
            <p>åœ¨æ¿€çƒˆçš„å­¸ç”Ÿæœƒé¸èˆ‰æˆ°ä¸­ï¼Œé€™å€‹ç”±ç¶“é©—è±å¯Œçš„ã€Œè€å°‡ã€èˆ‡å……æ»¿ç†±æƒ…çš„æ–°è¡€çµ„æˆçš„åœ˜éšŠï¼Œæ­£ä»¥å…¶è¶…ä¹æƒ³åƒçš„ç¦åˆ©æ‰¿è«¾ã€è…¦æ´å¤§é–‹çš„å‰µæ„æ´»å‹•ï¼Œä»¥åŠå‰æ‰€æœªæœ‰çš„ã€Œé€æ˜åº¦ã€å®£è¨€ï¼Œèª“è¦å¾¹åº•ã€Œç©è½‰ã€æˆ‘å€‘çš„æ ¡åœ’ç”Ÿæ´»ï¼</p>
            
            <figure class="article-image image-right">
                <img src="https://raw.githubusercontent.com/lstclhng/lstcstudentunion2025/76ffe820238dc0b9d21290d86a28dc0585221a66/IMG-20250522-WA0219.jpg" alt="å­¸ç”Ÿæœƒå€™é¸å…§é–£æ­£å‰¯æœƒå“¡é»ƒæ˜è°å’Œææ¬£ç‡ï¼Œç”šæœ‰è¦ªå’ŒåŠ›ã€‚">
                <figcaption>åœ–ï¼šå­¸ç”Ÿæœƒå€™é¸å…§é–£æ­£å‰¯æœƒé•·é»ƒæ˜è°ï¼ˆå³ï¼‰å’Œææ¬£ç‡ï¼ˆå·¦ï¼‰ï¼Œç”šæœ‰è¦ªå’ŒåŠ›ã€‚</figcaption>
            </figure>
            <p>æƒ³åƒä¸€ä¸‹ï¼Œæœªä¾†æ ¡åœ’ç”Ÿæ´»æœƒæ˜¯æ€æ¨£çš„ï¼Ÿæˆ–è¨±æ˜¯åˆé£¯æ™‚é–“èƒ½äº«å—åˆ°æ›´å¤šæ ¡å¤–é¤å»³çš„ç¨å®¶å­¸ç”Ÿå„ªæƒ ï¼Œæˆ–è¨±æ˜¯å­¸ç¿’è³‡æºä¸å†æ„ï¼Œæˆ–è¨±æ˜¯æ´»å‹•è±å¯Œåˆ°ä»¤ä½ ã€Œå””æ¨å¾—è¿”å±‹ä¼ã€ï¼é›–ç„¶å…·é«”ç¦åˆ©ç´°ç¯€ä»æœ‰å¾…å…¬å¸ƒï¼Œä½†é€™ç¨®ã€Œå…¨æ–¹ä½ã€çš„æ‰¿è«¾ï¼Œå¿…å®šè®“ä¸å°‘åŒå­¸å……æ»¿æœŸå¾…ã€‚</p>

            <h3>ç¦åˆ©å‹åˆ°ä½ å””ä¿¡ï¼å¾è¡£é£Ÿä½è¡Œåˆ°å­¸ç¿’ï¼Œå…¨éƒ¨åŒ…è¾¦ï¼Ÿ</h3>
            <p>ã€Œæˆ‘å“‹å˜…ç¦åˆ©ï¼Œä¿‚ç›¸æ¯”èµ·å°æ–¹å…§é–£å˜…æ¶‰åŠå˜…å±¤é¢ä¸Šä¿‚æ›´å¤šæ›´å»£å˜…ï¼ã€å€™é¸å…§é–£æœƒé•·é»ƒæ˜è°è‡ªä¿¡åœ°èªªã€‚ä»–é€éœ²ï¼Œé€™å±†å…§é–£çš„ç¦åˆ©è¨ˆåŠƒï¼Œç°¡ç›´æ˜¯æŠŠå­¸ç”Ÿå€‘çš„æ—¥å¸¸éœ€æ±‚ã€Œä¸€ç¶²æ‰“ç›¡ã€â€”â€” å¾è¡£è‘—ã€é£²é£Ÿã€å¨›æ¨‚ï¼Œåˆ°å­¸ç¿’ï¼Œç”šè‡³é€£ä½çš„æ–¹é¢éƒ½æœƒæ¶µè“‹ï¼</p>
            

            <h3>å‰µæ„æ´»å‹•è¶…å¸ç›ï¼ã€Œæ‹”æ²³ã€åŒã€Œå°‹è›‹ã€ï¼Ÿâ€”â€”ã€Œé‚Šå€‹è«—ã—ï¼Ÿï¼ã€</h3>
            <p>å…‰æœ‰ç¦åˆ©ä¸å¤ çœ‹ï¼Œç©å¾—é–‹å¿ƒæ‰æ˜¯ç‹é“ï¼é€™å€‹å…§é–£åœ¨æ´»å‹•ç­–åŠƒä¸Šï¼Œæ›´æ˜¯å±•ç¾äº†æ»¿æ»¿çš„å‰µæ„ã€‚é»ƒæ˜è°èˆˆå¥®åœ°é€éœ²ï¼Œä»–å€‘å°‡æœƒèˆ‰è¾¦ä¸€äº›å‰æ‰€æœªæœ‰çš„æ–°å¥‡æ´»å‹•ï¼Œä¾‹å¦‚ã€Œæ‹”æ²³æ¯”è³½ã€å’Œã€Œå¾©æ´»ç¯€å°‹è›‹ã€ï¼</p>
            
            <figure class="article-image image-left">
                <img src="https://raw.githubusercontent.com/lstclhng/lstcstudentunion2025/76ffe820238dc0b9d21290d86a28dc0585221a66/unnamed.jpg" alt="å¸«ç”Ÿæ‹”æ²³ç¤ºæ„åœ–ã€‚">
                <figcaption>åœ–ï¼šå¸«ç”Ÿæ‹”æ²³æ¯”è³½ï¼Œå…±åŒäº«å—æ ¡åœ’æ¨‚è¶£ã€‚</figcaption>
            </figure>
            <p>ã€Œä¾å•²ç›¸å°æ–°é®®ï¼Œæœƒä¿¾äººè¦ºå¾—æœ‰æ–°é®®æ„Ÿå˜…æ´»å‹•ï¼ã€é»ƒæ˜è°è¡¨ç¤ºã€‚è©¦æƒ³æƒ³ï¼Œç•¶æ•´å€‹æ ¡åœ’éƒ½è®Šæˆå°‹å¯¶éŠæˆ²çš„ç¾å ´ï¼Œæˆ–è€…å¸«ç”Ÿå€‘é½Šå¿ƒå”åŠ›åœ¨ã€Œæ‹”æ²³ã€ä¸­ä¸€è¼ƒé«˜ä¸‹ï¼Œé€™äº›ç•«é¢å…‰æ˜¯æƒ³æƒ³å°±è®“äººè…ä¸Šè…ºç´ é£†å‡ï¼é»ƒæ˜è°å¸Œæœ›é€éé€™äº›ç¨ç‰¹çš„æ´»å‹•ï¼Œç‚ºåŒå­¸å¸¶ä¾†ä¸ä¸€æ¨£çš„æ ¡åœ’é«”é©—ï¼Œè®“å¤§å®¶çœŸæ­£ã€Œé¾æ„ç•ªè¿”å­¸ã€ã€‚</p>
            
            <div class="clear-float"></div>
            <h3>æ±ºç­–éç¨‹å…¨å…¬é–‹ï¼ã€Œä½ æŠ•æˆ‘ä¸€ç¥¨ï¼Œæˆ‘è½ä½ æ„è¦‹ã€ä¸å†æ˜¯ç©ºè©±ï¼</h3>
            <p>ã€Œæˆ‘å“‹æœƒé‹ç”¨ç¤¾äº¤å¹³è‡ºå»ç›¡é‡æ“´å¹«æˆ‘å“‹å˜…é€æ˜åº¦å•¦ï¼ã€é€™æ˜¯é»ƒæ˜è°å¤šæ¬¡å¼·èª¿çš„æ ¸å¿ƒç†å¿µã€‚ä»–ä»£è¡¨å…§é–£æ‰¿è«¾ï¼Œå°‡æœƒæŠŠå­¸ç”Ÿæœƒçš„é‡è¦æ±ºç­–éç¨‹ï¼Œæ”¾åˆ°IGç­‰ç¤¾äº¤å¹³å°ï¼Œè®“åŒå­¸ã€Œè‡ªå·±åšå‡ºæ±ºå®šã€ï¼</p>
            <p>æƒ³é¸ä»€éº¼é‹å‹•æ¯”è³½ï¼Ÿçƒé¡æ¯”è³½è¦å‰‡æ€éº¼å®šï¼Ÿé€™äº›éƒ½å¯èƒ½ä¸å†æ˜¯å­¸ç”Ÿæœƒå…§éƒ¨èªªäº†ç®—ï¼Œè€Œæ˜¯ç”±ä½ å€‘â€”â€”å…¨é«”å­¸ç”Ÿï¼Œä¾†æŠ•ç¥¨æ±ºå®šï¼è€Œä¸”ï¼Œä»–å€‘æ›´æ‰¿è«¾åœ¨å­¸æœŸçµæŸæ™‚ï¼Œæœƒç”±è²¡å‹™çµ„å…¬ä½ˆå…¨å¹´çš„é–‹æ”¯ï¼Œè®“æ¯ä¸€ç­†éŒ¢éƒ½èŠ±å¾—æ¸…æ¸…æ¥šæ¥šï¼Œè®“åŒå­¸å°å­¸ç”Ÿæœƒçš„é‹ä½œã€Œä¿¡å¿ƒåè¶³ã€ã€‚</p>

            <h3>ã€Œæƒ³å¤§å®¶é–‹å¿ƒè¿”å­¸ã€ï¼é€™å°±æ˜¯å­¸ç”Ÿæœƒçš„ã€Œå­˜åœ¨æ„ç¾©ã€ï¼</h3>
            <p>ç•¶è¢«å•åŠå­¸ç”Ÿæœƒå­˜åœ¨çš„æ„ç¾©æ™‚ï¼Œææ¬£ç‡çš„è©±èªæ›´é¡¯çœŸæ‘¯ã€‚ã€Œå¤§å®¶ä¸€ç›´éƒ½æœƒè©±å­¸ç”Ÿæœƒä¿‚ä½œç‚ºå­¸æ ¡åŒåŒå­¸ä¹‹é–“æºé€šå˜…æ©‹æ¨‘å•¦ï¼Œä½†æˆ‘æˆç‚ºå­¸ç”Ÿæœƒä¸€ä»½å­å˜…åŸå› ï¼Œä¿‚æƒ³å¤§å®¶è¦ºå¾—ï¼Œå–ºå­¸æ ¡ä¾†å¯ä»¥ç©åˆ°å’å¤šæ´»å‹•ï¼ŒåŒåŸ‹ä½œç‚ºå­¸æ ¡ä¸€ä»½å­ä¿‚å¯ä»¥äº«æœ‰åˆ°å’å¤šç¦åˆ©ï¼Œå’æˆ‘æœƒæƒ³å¤§å®¶æœ€åŸºæœ¬è¿”å­¸ä¿‚æ‡‰è©²é–‹å¿ƒå•¦ï¼Œæƒ³å¤§å®¶çœŸæ­£å˜…æœƒé¾æ„è¿”å­¸å›‰ã€‚ã€</p>
            <p>é€™ä»½ç°¡å–®è€Œç›´æ¥çš„é¡˜æœ›ï¼Œç›¸ä¿¡è§¸å‹•äº†ä¸å°‘å­¸ç”Ÿçš„å¿ƒã€‚ä¸€å€‹è®“å­¸ç”Ÿæ„Ÿåˆ°å¿«æ¨‚ã€ç¦åˆ©æ»¿æ»¿çš„æ ¡åœ’ï¼Œæ­£æ˜¯é€™å€‹å…§é–£åŠªåŠ›çš„æ–¹å‘ã€‚ä»–å€‘æ·±ä¿¡ï¼Œä¸€å€‹é€æ˜ã€è² è²¬ï¼Œä¸”èƒ½æ»¿è¶³å­¸ç”Ÿéœ€æ±‚çš„å­¸ç”Ÿæœƒï¼Œæ‰èƒ½çœŸæ­£è´å¾—å…¬ä¿¡åŠ›ï¼Œä¸¦åœ¨æ ¡åœ’æ–‡åŒ–ä¸­æ‰®æ¼”èˆ‰è¶³è¼•é‡çš„è§’è‰²ã€‚</p>

            <h3>æŒ‘æˆ°èˆ‡å±•æœ›ï¼šç¶“é©—è±å¯Œã€æ‰¿è«¾æ»¿æ»¿ï¼Œä½ æº–å‚™å¥½æŠ•ä»–å€‘ä¸€ç¥¨äº†å—ï¼Ÿ</h3>
            <p>é¢å°æœªä¾†å¯èƒ½é‡åˆ°çš„æŒ‘æˆ°ï¼Œå…§é–£è¡¨ç¤ºä»–å€‘æœƒé€šéå¤šæ¬¡æœƒè­°å•†è¨ä¾†è§£æ±ºå•é¡Œï¼Œä¸¦åœ¨å•é¡Œè§£æ±ºå¾Œèˆ‰è¾¦èšé¤ä¾†æå‡åœ˜éšŠå£«æ°£ã€‚ä»–å€‘å¼·èª¿ï¼Œå°‡æœƒç«­ç›¡æ‰€èƒ½ï¼Œç¢ºä¿æ¯ä¸€å€‹å­¸ç”Ÿéƒ½èƒ½äº«å—åˆ°ä»–å€‘æä¾›çš„ç¦åˆ©å’Œæ´»å‹•ã€‚</p>
            <p>é€™å€‹å­¸ç”Ÿæœƒç«¶é¸å…§é–£æ†‘è—‰å…¶è±å¯Œçš„ç¶“é©—ã€å»£æ³›çš„ç¦åˆ©æ‰¿è«¾ã€æ–°ç©çš„æ´»å‹•å‰µæ„ï¼Œä»¥åŠå°é€æ˜åº¦çš„å …æŒï¼Œç„¡ç–‘ç‚ºä»Šå¹´çš„å­¸ç”Ÿæœƒé¸èˆ‰å¢æ·»äº†ä¸å°‘çœ‹é»ã€‚åŒå­¸å€‘ï¼Œä½ æº–å‚™å¥½è¿æ¥ä¸€å€‹æ›´ã€Œçˆ†ã€ã€æ›´ã€Œè²¼åœ°ã€ã€æ›´ã€Œä½ è©±äº‹ã€çš„å­¸ç”Ÿæœƒäº†å—ï¼Ÿä½ çš„æ‰‹ä¸Šé€™ä¸€ç¥¨ï¼Œå°‡æ±ºå®šæ ¡åœ’æœªä¾†ä¸€å¹´çš„ç²¾å½©ç¨‹åº¦ï¼</p>
            <p>æ¡è¨ªä¸»ç·¨ã€æ–‡å­—ä¸»ç·¨ã€è¡Œæ”¿ä¸»ç·¨ï¼šè”¡éŠ˜è»’</p>
            
            <div class="llm-feature-box">
                <h3 class="text-center text-red-700">ğŸ’¬ å­¸ç”ŸæœƒAIåŠ©ç† ğŸ’¬</h3>
                <p class="text-sm text-gray-600 mb-4">æœ‰ä»»ä½•å¸¸è­˜å•é¡Œå—ï¼Ÿè«‹åœ¨é€™è£¡æå•ï¼ŒAIåŠ©ç†æœƒç›¡åŠ›ç‚ºä½ è§£ç­”ï¼</p>
                <textarea id="keywordInput" placeholder="è¼¸å…¥ä½ çš„å•é¡Œï¼Œä¾‹å¦‚ï¼šå­¸ç”Ÿæœƒæ˜¯åšä»€éº¼çš„ï¼Ÿå“ªå€‹å­¸ç”Ÿæœƒè³£è¢å…‰ç­†ï¼Ÿ"></textarea>
                <button id="generateButton">
                    æå‡ºå•é¡Œ
                    <span class="loading-spinner"></span>
                </button>
                <div id="llmResult" class="llm-result hidden"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const keywordInput = document.getElementById('keywordInput');
            const generateButton = document.getElementById('generateButton');
            const llmResultDiv = document.getElementById('llmResult');

            // IMPORTANT: Replace this with your actual Google Cloud Function URL
            // const CLOUD_FUNCTION_URL = 'YOUR_CLOUD_FUNCTION_URL_HERE'; // Uncomment and replace if using Cloud Function backend
            // For testing purposes in Canvas, you can still use a dummy key if you don't have a backend.
            // When deploying to GitHub Pages, if NOT using a Cloud Function, you MUST put your API key here:
            const apiKey = ""; // If you are using a Cloud Function, this line is not needed for the frontend.
                               // If you are NOT using a Cloud Function (and exposing key), put your AI Studio key here.


            generateButton.addEventListener('click', async () => {
                const prompt = keywordInput.value.trim();
                if (!prompt) {
                    llmResultDiv.classList.remove('hidden');
                    llmResultDiv.textContent = 'è«‹è¼¸å…¥ä½ çš„å•é¡Œï¼';
                    llmResultDiv.style.backgroundColor = '#ffebee'; /* Light red for error */
                    llmResultDiv.style.borderColor = '#ef9a9a';
                    llmResultDiv.style.color = '#c62828';
                    return;
                }

                // Show loading state
                generateButton.classList.add('loading');
                generateButton.disabled = true;
                llmResultDiv.classList.add('hidden');
                llmResultDiv.textContent = '';
                llmResultDiv.style.backgroundColor = '#e0f2f7'; /* Reset to default */
                llmResultDiv.style.borderColor = '#b3e5fc';
                llmResultDiv.style.color = '#01579b';


                try {
                    let chatHistory = [];
                    // Updated prompt for chatbot functionality
                    chatHistory.push({ role: "user", parts: [{ text: `ä½ æ˜¯ä¸€å€‹å­¸ç”Ÿæœƒçš„AIåŠ©ç†ï¼Œæ—¨åœ¨å›ç­”ä¸­å­¸ç”Ÿçš„å¸¸è­˜å•é¡Œã€‚è«‹ç°¡æ½”ã€å‹å–„åœ°å›ç­”ã€‚å¦‚æœå•é¡Œè¶…å‡ºä½ çš„å¸¸è­˜ç¯„åœï¼Œè«‹ç›´æ¥å›ç­”ï¼šã€Œå¾ˆæŠ±æ­‰ï¼Œé€™å€‹å•é¡Œæˆ‘ç„¡æ³•å›ç­”ã€‚è«‹åˆ°4Cç­æ‰¾ææ¬£ç‡åŒå­¸ï¼Œå¥¹æˆ–è¨±èƒ½å¹«åˆ°ä½ ï¼ã€\n\nå­¸ç”Ÿå•é¡Œï¼š${prompt}` }] });
                    const payload = { contents: chatHistory };
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        llmResultDiv.textContent = text;
                        llmResultDiv.classList.remove('hidden');
                    } else {
                        llmResultDiv.textContent = 'æœªèƒ½ç²å¾—å›æ‡‰ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚(æ¸¬è©¦ç‰ˆï¼Œæœªèª²é‡‘èµ·é˜²ç«ç‰†)';
                        llmResultDiv.classList.remove('hidden');
                        llmResultDiv.style.backgroundColor = '#ffebee';
                        llmResultDiv.style.borderColor = '#ef9a9a';
                        llmResultDiv.style.color = '#c62828';
                    }
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    llmResultDiv.textContent = 'ç”Ÿæˆå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²çµ¡é€£æ¥æˆ–ç¨å¾Œå†è©¦ã€‚';
                    llmResultDiv.classList.remove('hidden');
                    llmResultDiv.style.backgroundColor = '#ffebee';
                    llmResultDiv.style.borderColor = '#ef9a9a';
                    llmResultDiv.style.color = '#c62828';
                } finally {
                    // Hide loading state
                    generateButton.classList.remove('loading');
                    generateButton.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
